openapi: 3.0.3
info:
  title: Educate Global Hub API
  description: |
    Comprehensive API for the Educate Global Hub platform, connecting teachers with schools globally.
    This API provides endpoints for user management, job posting, applications, profiles, and more.
  version: 1.0.0
  contact:
    name: API Support
    email: support@educateglobalhub.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:5000/api/v1
    description: Development server
  - url: https://educate-global-hub-node-production.up.railway.app/api/v1
    description: Production server

tags:
  - name: Authentication
    description: User authentication and authorization endpoints
  - name: Users
    description: User management and profile operations
  - name: Jobs
    description: Job posting, search, and management
  - name: Applications
    description: Job application management
  - name: Teacher Profiles
    description: Teacher profile management and search
  - name: School Profiles
    description: School profile management and search
  - name: Admin
    description: Administrative operations (admin only)
  - name: Upload
    description: File upload operations
  - name: Notifications
    description: User notification management
  - name: Health
    description: System health and status endpoints

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT token for authentication

  schemas:
    # Common Response Schemas
    SuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Operation completed successfully"
        data:
          type: object
          description: Response data payload

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error message description"
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
              message:
                type: string

    # User Schemas
    User:
      type: object
      properties:
        _id:
          type: string
          example: "507f1f77bcf86cd799439011"
        email:
          type: string
          format: email
          example: "user@example.com"
        firstName:
          type: string
          example: "John"
        lastName:
          type: string
          example: "Doe"
        role:
          type: string
          enum: ["teacher", "school", "recruiter", "supplier", "admin"]
          example: "teacher"
        status:
          type: string
          enum: ["active", "inactive", "suspended", "pending"]
          example: "active"
        isEmailVerified:
          type: boolean
          example: true
        isProfileComplete:
          type: boolean
          example: false
        avatarUrl:
          type: string
          nullable: true
          example: "https://example.com/avatar.jpg"
        phone:
          type: string
          nullable: true
          example: "+1234567890"
        lastActive:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # Job Schemas
    Job:
      type: object
      properties:
        _id:
          type: string
          example: "507f1f77bcf86cd799439011"
        schoolId:
          type: string
          example: "507f1f77bcf86cd799439012"
        title:
          type: string
          example: "Mathematics Teacher"
        organization:
          type: string
          example: "International School"
        description:
          type: string
          example: "We are seeking an experienced mathematics teacher..."
        requirements:
          type: array
          items:
            type: string
          example:
            ["Bachelor's degree in Mathematics", "Teaching certification"]
        benefits:
          type: array
          items:
            type: string
          example: ["Health insurance", "Professional development"]
        subjects:
          type: array
          items:
            type: string
          example: ["Mathematics", "Calculus"]
        educationLevel:
          type: string
          enum:
            [
              "early_years",
              "primary",
              "secondary",
              "high_school",
              "foundation",
              "higher_education",
            ]
          example: "secondary"
        positionCategory:
          type: string
          example: "Teaching"
        positionSubcategory:
          type: string
          example: "Mathematics"
        country:
          type: string
          example: "United States"
        city:
          type: string
          example: "New York"
        salaryMin:
          type: number
          example: 45000
        salaryMax:
          type: number
          example: 65000
        salaryCurrency:
          type: string
          example: "USD"
        employmentType:
          type: string
          enum: ["full_time", "part_time", "contract", "temporary"]
          example: "full_time"
        experienceLevel:
          type: string
          enum: ["entry", "mid", "senior", "lead"]
          example: "mid"
        isUrgent:
          type: boolean
          example: false
        isFeatured:
          type: boolean
          example: false
        status:
          type: string
          enum: ["active", "inactive", "draft", "closed"]
          example: "active"
        applicationDeadline:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # Application Schemas
    JobApplication:
      type: object
      properties:
        _id:
          type: string
          example: "507f1f77bcf86cd799439011"
        jobId:
          type: string
          example: "507f1f77bcf86cd799439012"
        teacherId:
          type: string
          example: "507f1f77bcf86cd799439013"
        status:
          type: string
          enum:
            [
              "pending",
              "reviewing",
              "shortlisted",
              "interviewed",
              "accepted",
              "rejected",
              "withdrawn",
            ]
          example: "pending"
        coverLetter:
          type: string
          example: "I am excited to apply for this position..."
        resumeUrl:
          type: string
          example: "https://example.com/resume.pdf"
        additionalDocuments:
          type: array
          items:
            type: string
          example: ["https://example.com/certificate.pdf"]
        expectedSalary:
          type: number
          example: 50000
        availableFrom:
          type: string
          format: date-time
        reasonForApplying:
          type: string
          example: "I am passionate about teaching and have relevant experience..."
        additionalComments:
          type: string
          example: "Additional information about my application..."
        screeningAnswers:
          type: object
          additionalProperties:
            type: string
        notes:
          type: string
          example: "Internal notes about the application..."
        reviewedBy:
          type: string
          example: "507f1f77bcf86cd799439014"
        reviewedAt:
          type: string
          format: date-time
        rejectionReason:
          type: string
          example: "Does not meet minimum requirements"
        interviewDate:
          type: string
          format: date-time
        interviewNotes:
          type: string
          example: "Interview notes and feedback..."
        isWithdrawn:
          type: boolean
          example: false
        withdrawnAt:
          type: string
          format: date-time
        withdrawnReason:
          type: string
          example: "Accepted another position"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        teacher:
          $ref: "#/components/schemas/TeacherInfo"

    # Teacher Information Schema
    TeacherInfo:
      type: object
      properties:
        fullName:
          type: string
          example: "John Doe"
          description: "Teacher's full name"
        email:
          type: string
          format: email
          example: "john.doe@example.com"
          description: "Teacher's email address"
        location:
          type: object
          properties:
            country:
              type: string
              example: "United States"
            city:
              type: string
              example: "New York"
            province:
              type: string
              example: "NY"
            address:
              type: string
              example: "123 Main Street"
            zipCode:
              type: string
              example: "10001"
        phoneNumber:
          type: string
          example: "+1234567890"
          description: "Teacher's phone number"
        qualification:
          type: string
          enum: ["Bachelor", "Master", "PhD", "Diploma", "Certificate", "Other"]
          example: "Master"
          description: "Teacher's highest qualification"
        subject:
          type: string
          example: "Mathematics"
          description: "Subject the teacher specializes in"
        yearsOfTeachingExperience:
          type: number
          example: 5
          description: "Years of teaching experience"

    # Pagination Schema
    Pagination:
      type: object
      properties:
        currentPage:
          type: integer
          example: 1
        totalPages:
          type: integer
          example: 10
        totalItems:
          type: integer
          example: 100
        itemsPerPage:
          type: integer
          example: 10
        hasNextPage:
          type: boolean
          example: true
        hasPrevPage:
          type: boolean
          example: false

    # Admin Job Management Schemas
    JobStatistics:
      type: object
      properties:
        totalJobs:
          type: integer
          example: 5
          description: Total number of jobs
        activeJobs:
          type: integer
          example: 2
          description: Number of published jobs
        pendingJobs:
          type: integer
          example: 1
          description: Number of draft jobs
        suspendedJobs:
          type: integer
          example: 1
          description: Number of closed jobs
        expiredJobs:
          type: integer
          example: 1
          description: Number of expired jobs

    JobAnalytics:
      type: object
      properties:
        period:
          type: string
          example: "30d"
          description: Time period for analytics
        startDate:
          type: string
          format: date-time
          description: Start date of analytics period
        endDate:
          type: string
          format: date-time
          description: End date of analytics period
        totalJobsCreated:
          type: integer
          example: 15
          description: Total jobs created in period
        totalJobsPublished:
          type: integer
          example: 12
          description: Total jobs published in period
        totalApplications:
          type: integer
          example: 89
          description: Total applications received in period
        totalViews:
          type: integer
          example: 1247
          description: Total job views in period
        jobsByType:
          type: object
          additionalProperties:
            type: integer
          example:
            full_time: 8
            part_time: 4
            contract: 3
        jobsByCountry:
          type: object
          additionalProperties:
            type: integer
          example:
            UAE: 6
            Singapore: 5
            Kuwait: 4
        jobsByStatus:
          type: object
          additionalProperties:
            type: integer
          example:
            published: 12
            draft: 2
            closed: 1

    BulkUpdateResult:
      type: object
      properties:
        updatedCount:
          type: integer
          example: 3
          description: Number of jobs successfully updated
        totalRequested:
          type: integer
          example: 3
          description: Total number of jobs requested for update
        status:
          type: string
          example: "published"
          description: New status applied to jobs

paths:
  /health:
    get:
      tags:
        - Health
      summary: Health check endpoint
      description: Check if the API is running and healthy
      responses:
        "200":
          description: API is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Educate Global Hub API is running"
                  timestamp:
                    type: string
                    format: date-time
                  environment:
                    type: string
                    example: "development"

  /auth/signup:
    post:
      tags:
        - Authentication
      summary: Register a new user
      description: Create a new user account with email verification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
                - firstName
                - lastName
                - role
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                password:
                  type: string
                  minLength: 8
                  example: "password123"
                firstName:
                  type: string
                  example: "John"
                lastName:
                  type: string
                  example: "Doe"
                role:
                  type: string
                  enum: ["teacher", "school", "recruiter", "supplier"]
                  example: "teacher"
                phone:
                  type: string
                  example: "+1234567890"
      responses:
        "201":
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "409":
          description: Conflict - user already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/login:
    post:
      tags:
        - Authentication
      summary: Authenticate user and get token
      description: Login with email and password to receive JWT tokens
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                password:
                  type: string
                  example: "password123"
      responses:
        "200":
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Login successful"
                  data:
                    type: object
                    properties:
                      accessToken:
                        type: string
                        example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                      refreshToken:
                        type: string
                        example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                      user:
                        $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized - invalid credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/send-otp:
    post:
      tags:
        - Authentication
      summary: Send OTP for email verification or password reset
      description: Send a one-time password to the user's email
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - purpose
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                purpose:
                  type: string
                  enum: ["email_verification", "password_reset"]
                  example: "email_verification"
      responses:
        "200":
          description: OTP sent successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/verify-otp:
    post:
      tags:
        - Authentication
      summary: Verify OTP and mark email as verified
      description: Verify the OTP sent to user's email
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - otp
                - purpose
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                otp:
                  type: string
                  example: "123456"
                purpose:
                  type: string
                  enum: ["email_verification", "password_reset"]
                  example: "email_verification"
      responses:
        "200":
          description: OTP verified successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - invalid OTP
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/password-reset:
    post:
      tags:
        - Authentication
      summary: Send password reset email
      description: Initiate password reset process
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
      responses:
        "200":
          description: Password reset email sent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/password-reset-confirm:
    post:
      tags:
        - Authentication
      summary: Reset password with OTP
      description: Complete password reset using OTP
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - otp
                - newPassword
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                otp:
                  type: string
                  example: "123456"
                newPassword:
                  type: string
                  minLength: 8
                  example: "newpassword123"
      responses:
        "200":
          description: Password reset successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - invalid OTP or password
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/refresh:
    post:
      tags:
        - Authentication
      summary: Refresh access token
      description: Get new access token using refresh token
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        "200":
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Token refreshed successfully"
                  data:
                    type: object
                    properties:
                      accessToken:
                        type: string
                        example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        "401":
          description: Unauthorized - invalid refresh token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/logout:
    post:
      tags:
        - Authentication
      summary: Logout user
      description: Invalidate refresh token and logout user
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        "200":
          description: Logout successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/me:
    get:
      tags:
        - Authentication
      summary: Get current user
      description: Retrieve current authenticated user information
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Current user retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Current user retrieved successfully"
                  data:
                    type: object
                    properties:
                      user:
                        $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /auth/change-password:
    post:
      tags:
        - Authentication
      summary: Change user password
      description: Change the authenticated user's password. Requires current password verification.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - currentPassword
                - newPassword
                - confirmPassword
              properties:
                currentPassword:
                  type: string
                  description: User's current password
                  example: "currentPassword123"
                newPassword:
                  type: string
                  minLength: 8
                  description: New password (must meet complexity requirements)
                  example: "newPassword123!"
                confirmPassword:
                  type: string
                  description: Confirmation of new password
                  example: "newPassword123!"
      responses:
        "200":
          description: Password changed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Password changed successfully. Please login again with your new password."
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized - invalid current password or token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /users/complete-profile:
    post:
      tags:
        - Users
      summary: Complete user profile
      description: Complete the user profile with required information
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - profileType
              properties:
                profileType:
                  type: string
                  enum: ["teacher", "school"]
                  example: "teacher"
      responses:
        "200":
          description: Profile completed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /users/profile:
    get:
      tags:
        - Users
      summary: Get current user profile
      description: Retrieve the current user's complete profile including associated role-specific profile data
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Profile retrieved successfully"
                  data:
                    type: object
                    properties:
                      user:
                        $ref: "#/components/schemas/User"
                      profile:
                        oneOf:
                          - $ref: "#/components/schemas/TeacherProfile"
                          - $ref: "#/components/schemas/SchoolProfile"
                          - type: "null"
                        description: "Role-specific profile data (TeacherProfile for teachers, SchoolProfile for schools, null for other roles)"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Profile not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Users
      summary: Update user profile
      description: Update the current user's profile information
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  example: "John"
                lastName:
                  type: string
                  example: "Doe"
                phone:
                  type: string
                  example: "+1234567890"
      responses:
        "200":
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /users/{id}:
    get:
      tags:
        - Users
      summary: Get public user profile by ID
      description: Retrieve a public user profile by user ID
      parameters:
        - name: id
          in: path
          required: true
          description: User ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "User profile retrieved successfully"
                  data:
                    type: object
                    properties:
                      user:
                        $ref: "#/components/schemas/User"
                      profile:
                        oneOf:
                          - $ref: "#/components/schemas/TeacherProfile"
                          - $ref: "#/components/schemas/SchoolProfile"
                          - type: "null"
                        description: "Role-specific profile data (TeacherProfile for teachers, SchoolProfile for schools, null for other roles)"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /users:
    get:
      tags:
        - Users
      summary: Get users list with filtering and pagination
      description: Retrieve a paginated list of users with optional filtering
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: role
          in: query
          description: Filter by user role
          schema:
            type: string
            enum: ["teacher", "school", "recruiter", "supplier", "admin"]
        - name: status
          in: query
          description: Filter by user status
          schema:
            type: string
            enum: ["active", "inactive", "suspended", "pending"]
        - name: search
          in: query
          description: Search term for name or email
          schema:
            type: string
      responses:
        "200":
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Users retrieved successfully"
                  data:
                    type: object
                    properties:
                      users:
                        type: array
                        items:
                          $ref: "#/components/schemas/User"
                      pagination:
                        $ref: "#/components/schemas/Pagination"

  /users/avatar:
    put:
      tags:
        - Users
      summary: Update user avatar
      description: Update the current user's avatar image
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                  format: binary
                  description: Avatar image file
      responses:
        "200":
          description: Avatar updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - invalid file
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /users/account:
    delete:
      tags:
        - Users
      summary: Delete user account
      description: Permanently delete the current user's account
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Account deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs:
    post:
      tags:
        - Jobs
      summary: Create a new job
      description: Create a new job posting (School only)
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - organization
                - description
                - requirements
                - subjects
                - educationLevel
                - positionCategory
                - positionSubcategory
                - country
                - city
              properties:
                title:
                  type: string
                  example: "Mathematics Teacher"
                organization:
                  type: string
                  example: "International School"
                description:
                  type: string
                  example: "We are seeking an experienced mathematics teacher..."
                requirements:
                  type: array
                  items:
                    type: string
                  example:
                    [
                      "Bachelor's degree in Mathematics",
                      "Teaching certification",
                    ]
                benefits:
                  type: array
                  items:
                    type: string
                  example: ["Health insurance", "Professional development"]
                subjects:
                  type: array
                  items:
                    type: string
                  example: ["Mathematics", "Calculus"]
                educationLevel:
                  type: string
                  enum:
                    [
                      "early_years",
                      "primary",
                      "secondary",
                      "high_school",
                      "foundation",
                      "higher_education",
                    ]
                  example: "secondary"
                positionCategory:
                  type: string
                  example: "Teaching"
                positionSubcategory:
                  type: string
                  example: "Mathematics"
                country:
                  type: string
                  example: "United States"
                city:
                  type: string
                  example: "New York"
                salaryMin:
                  type: number
                  example: 45000
                salaryMax:
                  type: number
                  example: 65000
                salaryCurrency:
                  type: string
                  example: "USD"
                employmentType:
                  type: string
                  enum: ["full_time", "part_time", "contract", "temporary"]
                  example: "full_time"
                experienceLevel:
                  type: string
                  enum: ["entry", "mid", "senior", "lead"]
                  example: "mid"
                isUrgent:
                  type: boolean
                  example: false
                isFeatured:
                  type: boolean
                  example: false
                applicationDeadline:
                  type: string
                  format: date-time
      responses:
        "201":
          description: Job created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    get:
      tags:
        - Jobs
      summary: Search jobs
      description: Search and filter jobs with pagination
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: search
          in: query
          description: Search term for job title or description
          schema:
            type: string
        - name: country
          in: query
          description: Filter by country
          schema:
            type: string
        - name: city
          in: query
          description: Filter by city
          schema:
            type: string
        - name: educationLevel
          in: query
          description: Filter by education level
          schema:
            type: string
            enum:
              [
                "early_years",
                "primary",
                "secondary",
                "high_school",
                "foundation",
                "higher_education",
              ]
        - name: employmentType
          in: query
          description: Filter by employment type
          schema:
            type: string
            enum: ["full_time", "part_time", "contract", "temporary"]
        - name: experienceLevel
          in: query
          description: Filter by experience level
          schema:
            type: string
            enum: ["entry", "mid", "senior", "lead"]
        - name: isUrgent
          in: query
          description: Filter by urgent jobs
          schema:
            type: boolean
        - name: isFeatured
          in: query
          description: Filter by featured jobs
          schema:
            type: boolean
      responses:
        "200":
          description: Jobs retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Jobs retrieved successfully"
                  data:
                    type: object
                    properties:
                      jobs:
                        type: array
                        items:
                          $ref: "#/components/schemas/Job"
                      pagination:
                        $ref: "#/components/schemas/Pagination"

  /jobs/featured:
    get:
      tags:
        - Jobs
      summary: Get featured jobs
      description: Retrieve featured job postings
      responses:
        "200":
          description: Featured jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /jobs/urgent:
    get:
      tags:
        - Jobs
      summary: Get urgent jobs
      description: Retrieve urgent job postings
      responses:
        "200":
          description: Urgent jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /jobs/category/{category}:
    get:
      tags:
        - Jobs
      summary: Get jobs by category
      description: Retrieve jobs filtered by position category
      parameters:
        - name: category
          in: path
          required: true
          description: Position category
          schema:
            type: string
            example: "Teaching"
      responses:
        "200":
          description: Jobs by category retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /jobs/location/{country}/{city}:
    get:
      tags:
        - Jobs
      summary: Get jobs by location
      description: Retrieve jobs filtered by country and city
      parameters:
        - name: country
          in: path
          required: true
          description: Country name
          schema:
            type: string
            example: "United States"
        - name: city
          in: path
          required: true
          description: City name
          schema:
            type: string
            example: "New York"
      responses:
        "200":
          description: Jobs by location retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /jobs/{jobId}:
    get:
      tags:
        - Jobs
      summary: Get job by ID
      description: Retrieve a specific job by its ID
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Job retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Jobs
      summary: Update job
      description: Update an existing job (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Updated Mathematics Teacher"
                description:
                  type: string
                  example: "Updated job description..."
      responses:
        "200":
          description: Job updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Jobs
      summary: Delete job
      description: Delete a job posting (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Job deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/{jobId}/status:
    patch:
      tags:
        - Jobs
      summary: Update job status
      description: Update the status of a job (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: ["active", "inactive", "draft", "closed"]
                  example: "active"
      responses:
        "200":
          description: Job status updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/{jobId}/apply:
    post:
      tags:
        - Applications
      summary: Apply for a job
      description: Submit a job application (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - coverLetter
              properties:
                coverLetter:
                  type: string
                  example: "I am excited to apply for this position..."
                resumeUrl:
                  type: string
                  example: "https://example.com/resume.pdf"
                additionalDocuments:
                  type: array
                  items:
                    type: string
                  example: ["https://example.com/certificate.pdf"]
      responses:
        "201":
          description: Application submitted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "409":
          description: Conflict - already applied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/{jobId}/save:
    post:
      tags:
        - Jobs
      summary: Save a job
      description: Save a job for later (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Job saved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/saved:
    get:
      tags:
        - Jobs
      summary: Get saved jobs
      description: Retrieve user's saved jobs (Teacher only)
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Saved jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/recommendations:
    get:
      tags:
        - Jobs
      summary: Get job recommendations
      description: Get personalized job recommendations (Teacher only)
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Job recommendations retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles:
    post:
      tags:
        - Teacher Profiles
      summary: Create or update teacher profile
      description: Create or update the current user's teacher profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bio:
                  type: string
                  example: "Experienced mathematics teacher with 5+ years..."
                specialization:
                  type: array
                  items:
                    type: string
                  example: ["Mathematics", "Calculus", "Algebra"]
                yearsOfExperience:
                  type: number
                  example: 5
                preferredCountries:
                  type: array
                  items:
                    type: string
                  example: ["United States", "Canada", "UK"]
      responses:
        "200":
          description: Teacher profile updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    get:
      tags:
        - Teacher Profiles
      summary: Search teachers
      description: Search for teachers with filtering and pagination
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: search
          in: query
          description: Search term for name or specialization
          schema:
            type: string
        - name: specialization
          in: query
          description: Filter by specialization
          schema:
            type: string
        - name: yearsOfExperience
          in: query
          description: Filter by minimum years of experience
          schema:
            type: number
        - name: preferredCountries
          in: query
          description: Filter by preferred countries
          schema:
            type: string
      responses:
        "200":
          description: Teachers retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /teacher-profiles/me:
    get:
      tags:
        - Teacher Profiles
      summary: Get current teacher profile
      description: Retrieve the current user's teacher profile
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Teacher profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Teacher profile not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/{teacherId}:
    get:
      tags:
        - Teacher Profiles
      summary: Get teacher profile by ID
      description: Retrieve a public teacher profile by ID
      parameters:
        - name: teacherId
          in: path
          required: true
          description: Teacher ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Teacher profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "404":
          description: Teacher profile not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles:
    post:
      tags:
        - School Profiles
      summary: Create or update school profile
      description: Create or update the current user's school profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                schoolName:
                  type: string
                  example: "International School of Excellence"
                description:
                  type: string
                  example: "A leading international school..."
                website:
                  type: string
                  format: uri
                  example: "https://example.com"
                address:
                  type: object
                  properties:
                    street:
                      type: string
                      example: "123 Education Street"
                    city:
                      type: string
                      example: "New York"
                    state:
                      type: string
                      example: "NY"
                    country:
                      type: string
                      example: "United States"
                    postalCode:
                      type: string
                      example: "10001"
                phone:
                  type: string
                  example: "+1-555-123-4567"
                email:
                  type: string
                  format: email
                  example: "info@example.com"
                founded:
                  type: integer
                  example: 1990
                studentCount:
                  type: integer
                  example: 500
                accreditation:
                  type: array
                  items:
                    type: string
                  example: ["IB", "CIS", "NEASC"]
      responses:
        "200":
          description: School profile updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    get:
      tags:
        - School Profiles
      summary: Search schools
      description: Search for schools with filtering and pagination
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: search
          in: query
          description: Search term for school name or description
          schema:
            type: string
        - name: country
          in: query
          description: Filter by country
          schema:
            type: string
        - name: city
          in: query
          description: Filter by city
          schema:
            type: string
        - name: accreditation
          in: query
          description: Filter by accreditation
          schema:
            type: string
      responses:
        "200":
          description: Schools retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"

  /school-profiles/me:
    get:
      tags:
        - School Profiles
      summary: Get current school profile
      description: Retrieve the current user's school profile
      security:
        - BearerAuth: []
      responses:
        "200":
          description: School profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: School profile not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/{schoolId}:
    get:
      tags:
        - School Profiles
      summary: Get school profile by ID
      description: Retrieve a public school profile by ID
      parameters:
        - name: schoolId
          in: path
          required: true
          description: School ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: School profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "404":
          description: School profile not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/allUsers:
    get:
      tags:
        - Admin
      summary: Get all users
      description: Retrieve all users with pagination and filtering (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: role
          in: query
          description: Filter by user role
          schema:
            type: string
            enum: ["teacher", "school", "recruiter", "supplier", "admin"]
        - name: status
          in: query
          description: Filter by user status
          schema:
            type: string
            enum: ["active", "inactive", "suspended", "pending"]
        - name: search
          in: query
          description: Search term for name or email
          schema:
            type: string
      responses:
        "200":
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/users/{id}:
    get:
      tags:
        - Admin
      summary: Get user by ID
      description: Retrieve a specific user by ID (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: User ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: User retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/add-users:
    post:
      tags:
        - Admin
      summary: Create new user
      description: Create a new user account (Admin only)
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
                - firstName
                - lastName
                - role
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                password:
                  type: string
                  minLength: 8
                  example: "password123"
                firstName:
                  type: string
                  example: "John"
                lastName:
                  type: string
                  example: "Doe"
                role:
                  type: string
                  enum: ["teacher", "school", "recruiter", "supplier", "admin"]
                  example: "teacher"
                phone:
                  type: string
                  example: "+1234567890"
      responses:
        "201":
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "409":
          description: Conflict - user already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/update-users/{id}:
    put:
      tags:
        - Admin
      summary: Update user
      description: Update an existing user (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: User ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  example: "John"
                lastName:
                  type: string
                  example: "Doe"
                role:
                  type: string
                  enum: ["teacher", "school", "recruiter", "supplier", "admin"]
                  example: "teacher"
                status:
                  type: string
                  enum: ["active", "inactive", "suspended", "pending"]
                  example: "active"
                phone:
                  type: string
                  example: "+1234567890"
      responses:
        "200":
          description: User updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/delete-users/{id}:
    delete:
      tags:
        - Admin
      summary: Delete user
      description: Delete a user account (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: User ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: User deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/users/{id}/status:
    patch:
      tags:
        - Admin
      summary: Change user status
      description: Change the status of a user (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: User ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: ["active", "inactive", "suspended", "pending"]
                  example: "active"
      responses:
        "200":
          description: User status changed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # ==================== ADMIN JOB MANAGEMENT ENDPOINTS ====================

  /admin/jobs:
    get:
      tags:
        - Admin
      summary: Get all jobs
      description: Retrieve all jobs with pagination, search, and filtering (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: search
          in: query
          description: Search term for job title, school, or location
          schema:
            type: string
            example: "Mathematics Teacher"
        - name: status
          in: query
          description: Filter by job status
          schema:
            type: string
            enum: ["all", "draft", "published", "closed", "expired"]
            default: "all"
        - name: jobType
          in: query
          description: Filter by job type
          schema:
            type: string
            enum: ["all", "full_time", "part_time", "contract", "substitute"]
            default: "all"
        - name: country
          in: query
          description: Filter by country
          schema:
            type: string
            example: "UAE"
        - name: city
          in: query
          description: Filter by city
          schema:
            type: string
            example: "Dubai"
        - name: educationLevel
          in: query
          description: Filter by education level
          schema:
            type: string
            enum:
              [
                "all",
                "early_years",
                "primary",
                "secondary",
                "high_school",
                "foundation",
                "higher_education",
              ]
            default: "all"
        - name: sortBy
          in: query
          description: Sort field
          schema:
            type: string
            enum:
              [
                "createdAt",
                "updatedAt",
                "publishedAt",
                "title",
                "organization",
                "country",
                "city",
                "salaryMin",
                "salaryMax",
                "applicationDeadline",
                "viewsCount",
                "applicantsCount",
              ]
            default: "createdAt"
        - name: sortOrder
          in: query
          description: Sort direction
          schema:
            type: string
            enum: ["asc", "desc"]
            default: "desc"
      responses:
        "200":
          description: Jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/statistics:
    get:
      tags:
        - Admin
      summary: Get job statistics
      description: Retrieve summary statistics for all jobs (Admin only)
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Job statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/{id}:
    get:
      tags:
        - Admin
      summary: Get job by ID
      description: Retrieve detailed information about a specific job (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Job retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
    delete:
      tags:
        - Admin
      summary: Delete job
      description: Soft delete a job (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
                  minLength: 3
                  maxLength: 500
                  example: "Duplicate posting"
      responses:
        "200":
          description: Job deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/{id}/status:
    patch:
      tags:
        - Admin
      summary: Update job status
      description: Update the status of a specific job (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: ["draft", "published", "closed", "expired"]
                  example: "published"
                reason:
                  type: string
                  minLength: 3
                  maxLength: 500
                  example: "Approved for publication"
      responses:
        "200":
          description: Job status updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/export:
    get:
      tags:
        - Admin
      summary: Export jobs
      description: Export jobs data in CSV or JSON format (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: status
          in: query
          description: Filter by job status
          schema:
            type: string
            enum: ["all", "draft", "published", "closed", "expired"]
            default: "all"
        - name: jobType
          in: query
          description: Filter by job type
          schema:
            type: string
            enum: ["all", "full_time", "part_time", "contract", "substitute"]
            default: "all"
        - name: country
          in: query
          description: Filter by country
          schema:
            type: string
            example: "UAE"
        - name: city
          in: query
          description: Filter by city
          schema:
            type: string
            example: "Dubai"
        - name: educationLevel
          in: query
          description: Filter by education level
          schema:
            type: string
            enum:
              [
                "all",
                "early_years",
                "primary",
                "secondary",
                "high_school",
                "foundation",
                "higher_education",
              ]
            default: "all"
        - name: format
          in: query
          description: Export format
          schema:
            type: string
            enum: ["csv", "json"]
            default: "csv"
      responses:
        "200":
          description: Jobs exported successfully
          content:
            text/csv:
              schema:
                type: string
                description: CSV file content
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/{jobId}/applications:
    get:
      tags:
        - Admin
      summary: Get job applications
      description: Retrieve all applications for a specific job (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: status
          in: query
          description: Filter by application status
          schema:
            type: string
            enum:
              [
                "all",
                "pending",
                "reviewed",
                "shortlisted",
                "rejected",
                "accepted",
              ]
            default: "all"
        - name: sortBy
          in: query
          description: Sort field
          schema:
            type: string
            enum:
              [
                "createdAt",
                "updatedAt",
                "status",
                "teacherName",
                "appliedAt",
                "expectedSalary",
                "availableFrom",
              ]
            default: "createdAt"
        - name: sortOrder
          in: query
          description: Sort direction
          schema:
            type: string
            enum: ["asc", "desc"]
            default: "desc"
      responses:
        "200":
          description: Job applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/bulk-status:
    patch:
      tags:
        - Admin
      summary: Bulk update job statuses
      description: Update the status of multiple jobs at once (Admin only)
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jobIds
                - status
              properties:
                jobIds:
                  type: array
                  items:
                    type: string
                  minItems: 1
                  example:
                    ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"]
                status:
                  type: string
                  enum: ["draft", "published", "closed", "expired"]
                  example: "published"
                reason:
                  type: string
                  minLength: 3
                  maxLength: 500
                  example: "Approved for publication"
      responses:
        "200":
          description: Job statuses updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /admin/jobs/analytics:
    get:
      tags:
        - Admin
      summary: Get job analytics
      description: Retrieve analytics data for jobs over a specified period (Admin only)
      security:
        - BearerAuth: []
      parameters:
        - name: period
          in: query
          description: Time period for analytics
          schema:
            type: string
            enum: ["7d", "30d", "90d", "1y"]
            default: "30d"
      responses:
        "200":
          description: Job analytics retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - admin role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /upload/avatar:
    post:
      tags:
        - Upload
      summary: Upload user avatar
      description: Upload a new avatar image for the current user
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                  format: binary
                  description: Avatar image file (JPEG, PNG, GIF, WEBP)
      responses:
        "200":
          description: Avatar uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Avatar uploaded successfully"
                  data:
                    type: object
                    properties:
                      avatarUrl:
                        type: string
                        format: uri
                        example: "https://res.cloudinary.com/example/image/upload/v123/avatars/filename.jpg"
        "400":
          description: Bad request - invalid file
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /upload/document:
    post:
      tags:
        - Upload
      summary: Upload document
      description: Upload a document file
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                document:
                  type: string
                  format: binary
                  description: Document file
      responses:
        "200":
          description: Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - invalid file
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /upload/{publicId}:
    delete:
      tags:
        - Upload
      summary: Delete file
      description: Delete a file from Cloudinary by public ID
      security:
        - BearerAuth: []
      parameters:
        - name: publicId
          in: path
          required: true
          description: Cloudinary public ID
          schema:
            type: string
            example: "folder/filename"
      responses:
        "200":
          description: File deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: File not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /upload/preset:
    get:
      tags:
        - Upload
      summary: Get upload preset
      description: Get Cloudinary upload preset for client-side uploads
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Upload preset retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications:
    get:
      tags:
        - Notifications
      summary: Get user notifications
      description: Retrieve user's notifications with pagination and filtering
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
        - name: isRead
          in: query
          description: Filter by read status
          schema:
            type: boolean
        - name: type
          in: query
          description: Filter by notification type
          schema:
            type: string
        - name: category
          in: query
          description: Filter by notification category
          schema:
            type: string
        - name: priority
          in: query
          description: Filter by priority
          schema:
            type: string
        - name: jobId
          in: query
          description: Filter by job ID
          schema:
            type: string
        - name: sortBy
          in: query
          description: Sort field
          schema:
            type: string
            default: "createdAt"
        - name: sortOrder
          in: query
          description: Sort order
          schema:
            type: string
            enum: ["asc", "desc"]
            default: "desc"
      responses:
        "200":
          description: Notifications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/stats:
    get:
      tags:
        - Notifications
      summary: Get notification statistics
      description: Get user's notification statistics
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Notification statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/unread/count:
    get:
      tags:
        - Notifications
      summary: Get unread notification count
      description: Get count of unread notifications
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Unread count retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/urgent:
    get:
      tags:
        - Notifications
      summary: Get urgent notifications
      description: Get urgent notifications for user
      security:
        - BearerAuth: []
      parameters:
        - name: limit
          in: query
          description: Maximum number of urgent notifications
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Urgent notifications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/read-all:
    put:
      tags:
        - Notifications
      summary: Mark all notifications as read
      description: Mark all user's notifications as read
      security:
        - BearerAuth: []
      responses:
        "200":
          description: All notifications marked as read
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/{id}:
    get:
      tags:
        - Notifications
      summary: Get notification by ID
      description: Get a specific notification by ID
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Notification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Notification retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Notification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Notifications
      summary: Delete notification
      description: Delete a specific notification
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Notification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Notification deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Notification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/{id}/read:
    put:
      tags:
        - Notifications
      summary: Mark notification as read
      description: Mark a notification as read
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Notification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Notification marked as read
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Notification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /notifications/{id}/unread:
    put:
      tags:
        - Notifications
      summary: Mark notification as unread
      description: Mark a notification as unread
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Notification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Notification marked as unread
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Notification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # Missing Job APIs
  /jobs/applications/stats:
    get:
      tags:
        - Applications
      summary: Get application statistics
      description: Get overall application statistics
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Application statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/recent:
    get:
      tags:
        - Applications
      summary: Get recent applications
      description: Get recent job applications
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Recent applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/overdue:
    get:
      tags:
        - Applications
      summary: Get overdue applications
      description: Get overdue applications that need attention (School only)
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Overdue applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/bulk/status:
    patch:
      tags:
        - Applications
      summary: Bulk update application statuses
      description: Update statuses for multiple applications (School only)
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - applicationIds
                - status
              properties:
                applicationIds:
                  type: array
                  items:
                    type: string
                  example:
                    ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"]
                status:
                  type: string
                  enum:
                    [
                      "pending",
                      "reviewing",
                      "shortlisted",
                      "interviewed",
                      "accepted",
                      "rejected",
                      "withdrawn",
                    ]
                  example: "reviewing"
      responses:
        "200":
          description: Application statuses updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/school/all:
    get:
      tags:
        - Applications
      summary: Get all applications by school
      description: Get all applications from all jobs posted by the authenticated school
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: status
          in: query
          description: Filter by application status
          schema:
            type: string
            enum:
              [
                "all",
                "pending",
                "reviewing",
                "shortlisted",
                "interviewed",
                "accepted",
                "rejected",
                "withdrawn",
              ]
            default: "all"
      responses:
        "200":
          description: All school applications retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "All school applications retrieved successfully"
                  data:
                    type: object
                    properties:
                      applications:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: "507f1f77bcf86cd799439011"
                            status:
                              type: string
                              example: "pending"
                            coverLetter:
                              type: string
                              example: "I am interested in this position..."
                            expectedSalary:
                              type: number
                              example: 50000
                            availableFrom:
                              type: string
                              format: date-time
                              example: "2024-01-01T00:00:00.000Z"
                            reasonForApplying:
                              type: string
                              example: "Great opportunity to grow..."
                            createdAt:
                              type: string
                              format: date-time
                              example: "2024-01-01T00:00:00.000Z"
                            job:
                              type: object
                              properties:
                                _id:
                                  type: string
                                  example: "507f1f77bcf86cd799439012"
                                title:
                                  type: string
                                  example: "Mathematics Teacher"
                                status:
                                  type: string
                                  example: "active"
                                city:
                                  type: string
                                  example: "New York"
                                country:
                                  type: string
                                  example: "USA"
                                positionCategory:
                                  type: string
                                  example: "Teaching"
                                educationLevel:
                                  type: string
                                  example: "High School"
                                jobType:
                                  type: string
                                  example: "Full-time"
                                isUrgent:
                                  type: boolean
                                  example: false
                            teacher:
                              type: object
                              properties:
                                _id:
                                  type: string
                                  example: "507f1f77bcf86cd799439013"
                                fullName:
                                  type: string
                                  example: "John Doe"
                                country:
                                  type: string
                                  example: "USA"
                                city:
                                  type: string
                                  example: "New York"
                                experience:
                                  type: string
                                  example: "5 years"
                                subjects:
                                  type: array
                                  items:
                                    type: string
                                  example: ["Mathematics", "Physics"]
                                qualifications:
                                  type: array
                                  items:
                                    type: string
                                  example: ["Master's Degree"]
                      pagination:
                        type: object
                        properties:
                          page:
                            type: integer
                            example: 1
                          limit:
                            type: integer
                            example: 10
                          total:
                            type: integer
                            example: 30
                          totalPages:
                            type: integer
                            example: 3
                          hasNextPage:
                            type: boolean
                            example: true
                          hasPrevPage:
                            type: boolean
                            example: false
                      summary:
                        type: object
                        properties:
                          totalApplications:
                            type: integer
                            example: 30
                            description: Total applications across all jobs
                          totalJobs:
                            type: integer
                            example: 3
                            description: Total jobs posted by the school
                          applicationsByStatus:
                            type: array
                            items:
                              type: object
                              properties:
                                _id:
                                  type: string
                                  example: "pending"
                                count:
                                  type: integer
                                  example: 15
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/school/job/{jobId}:
    get:
      tags:
        - Applications
      summary: Get applications by specific job for school
      description: Get all applications for a specific job with school ownership verification
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: status
          in: query
          description: Filter by application status
          schema:
            type: string
            enum:
              [
                "all",
                "pending",
                "reviewing",
                "shortlisted",
                "interviewed",
                "accepted",
                "rejected",
                "withdrawn",
              ]
            default: "all"
      responses:
        "200":
          description: Job applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found or access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/{jobId}/applications:
    get:
      tags:
        - Applications
      summary: Get applications for a job
      description: Get all applications for a specific job (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
        - name: status
          in: query
          description: Filter by application status
          schema:
            type: string
            enum:
              [
                "pending",
                "reviewing",
                "shortlisted",
                "interviewed",
                "accepted",
                "rejected",
                "withdrawn",
              ]
      responses:
        "200":
          description: Job applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}:
    get:
      tags:
        - Applications
      summary: Get application by ID
      description: Get a specific application by ID
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Application retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/status:
    patch:
      tags:
        - Applications
      summary: Update application status
      description: Update the status of an application (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum:
                    [
                      "pending",
                      "reviewing",
                      "shortlisted",
                      "interviewed",
                      "accepted",
                      "rejected",
                      "withdrawn",
                    ]
                  example: "reviewing"
                notes:
                  type: string
                  example: "Application moved to reviewing phase"
      responses:
        "200":
          description: Application status updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/withdraw:
    post:
      tags:
        - Applications
      summary: Withdraw application
      description: Withdraw a job application (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Application withdrawn successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/teacher/{teacherId}:
    get:
      tags:
        - Applications
      summary: Get applications by teacher
      description: Get all applications submitted by a specific teacher (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: teacherId
          in: path
          required: true
          description: Teacher ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Number of items per page
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
      responses:
        "200":
          description: Teacher applications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/interview:
    post:
      tags:
        - Applications
      summary: Schedule interview
      description: Schedule an interview for an application (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - interviewDate
                - interviewType
              properties:
                interviewDate:
                  type: string
                  format: date-time
                  example: "2024-02-15T10:00:00Z"
                interviewType:
                  type: string
                  enum: ["phone", "video", "in_person"]
                  example: "video"
                notes:
                  type: string
                  example: "Please prepare for a 30-minute video interview"
      responses:
        "200":
          description: Interview scheduled successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/accept:
    post:
      tags:
        - Applications
      summary: Accept application
      description: Accept a job application (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notes:
                  type: string
                  example: "Congratulations! We are pleased to offer you the position."
                startDate:
                  type: string
                  format: date
                  example: "2024-09-01"
      responses:
        "200":
          description: Application accepted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/reject:
    post:
      tags:
        - Applications
      summary: Reject application
      description: Reject a job application (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - reason
              properties:
                reason:
                  type: string
                  example: "We have selected another candidate who better fits our requirements"
                feedback:
                  type: string
                  example: "Thank you for your interest in our school"
      responses:
        "200":
          description: Application rejected successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/shortlist:
    post:
      tags:
        - Applications
      summary: Shortlist application
      description: Shortlist an application for further consideration (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notes:
                  type: string
                  example: "Strong candidate, moving to shortlist for interview"
      responses:
        "200":
          description: Application shortlisted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/reviewing:
    post:
      tags:
        - Applications
      summary: Move application to reviewing
      description: Move an application to reviewing phase (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notes:
                  type: string
                  example: "Application under review by hiring committee"
      responses:
        "200":
          description: Application moved to reviewing successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{applicationId}/timeline:
    get:
      tags:
        - Applications
      summary: Get application timeline
      description: Get the timeline of events for an application
      security:
        - BearerAuth: []
      parameters:
        - name: applicationId
          in: path
          required: true
          description: Application ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Application timeline retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Application not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/applications/{jobId}/export:
    get:
      tags:
        - Applications
      summary: Export applications
      description: Export applications for a job in various formats (School only)
      security:
        - BearerAuth: []
      parameters:
        - name: jobId
          in: path
          required: true
          description: Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
        - name: format
          in: query
          description: Export format
          schema:
            type: string
            enum: ["csv", "pdf", "excel"]
            default: "csv"
      responses:
        "200":
          description: Applications exported successfully
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - school role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # Missing Saved Job APIs
  /jobs/saved/stats:
    get:
      tags:
        - Jobs
      summary: Get saved job statistics
      description: Get statistics for user's saved jobs (Teacher only)
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Saved job statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /jobs/saved/{savedJobId}:
    get:
      tags:
        - Jobs
      summary: Get saved job by ID
      description: Get a specific saved job by ID (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: savedJobId
          in: path
          required: true
          description: Saved Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Saved job retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Saved job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Jobs
      summary: Update saved job
      description: Update a saved job (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: savedJobId
          in: path
          required: true
          description: Saved Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notes:
                  type: string
                  example: "Interested in this position"
                priority:
                  type: string
                  enum: ["low", "medium", "high"]
                  example: "high"
      responses:
        "200":
          description: Saved job updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Saved job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Jobs
      summary: Remove saved job
      description: Remove a job from saved list (Teacher only)
      security:
        - BearerAuth: []
      parameters:
        - name: savedJobId
          in: path
          required: true
          description: Saved Job ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Saved job removed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden - teacher role required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Saved job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # Missing School Profile APIs
  /school-profiles/me/programs:
    get:
      tags:
        - School Profiles
      summary: List my school programs
      description: Get all programs for the current user's school
      security:
        - BearerAuth: []
      responses:
        "200":
          description: School programs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/programs:
    post:
      tags:
        - School Profiles
      summary: Add school program
      description: Add a new program to the current user's school
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - description
                - level
              properties:
                name:
                  type: string
                  example: "International Baccalaureate Diploma Programme"
                description:
                  type: string
                  example: "A rigorous two-year program for students aged 16-19"
                level:
                  type: string
                  enum:
                    [
                      "early_years",
                      "primary",
                      "secondary",
                      "high_school",
                      "foundation",
                      "higher_education",
                    ]
                  example: "high_school"
                duration:
                  type: string
                  example: "2 years"
                accreditation:
                  type: array
                  items:
                    type: string
                  example: ["IB", "CIS"]
      responses:
        "201":
          description: School program added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/programs/{id}:
    put:
      tags:
        - School Profiles
      summary: Update school program
      description: Update an existing school program
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Program ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Updated Program Name"
                description:
                  type: string
                  example: "Updated program description"
      responses:
        "200":
          description: School program updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Program not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - School Profiles
      summary: Delete school program
      description: Delete a school program
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Program ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: School program deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Program not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/{schoolId}/programs:
    get:
      tags:
        - School Profiles
      summary: List programs by school ID
      description: Get all programs for a specific school (public route)
      parameters:
        - name: schoolId
          in: path
          required: true
          description: School ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: School programs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "404":
          description: School not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/media:
    post:
      tags:
        - School Profiles
      summary: Upload school media
      description: Upload media files for the current user's school
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Media files (JPEG, PNG, WEBP) - max 5 files
      responses:
        "200":
          description: School media uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - invalid files
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /school-profiles/{mediaId}:
    delete:
      tags:
        - School Profiles
      summary: Delete school media
      description: Delete a media file from the current user's school
      security:
        - BearerAuth: []
      parameters:
        - name: mediaId
          in: path
          required: true
          description: Media ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: School media deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Media not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  # Missing Teacher Profile Routes
  /teacher-profiles/me/recommended-jobs:
    get:
      tags:
        - Teacher Profiles
      summary: Get recommended jobs for teacher
      description: Get job recommendations for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Recommended jobs retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/employment:
    post:
      tags:
        - Teacher Profiles
      summary: Add employment record
      description: Add a new employment record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                company:
                  type: string
                  example: "ABC School"
                position:
                  type: string
                  example: "Mathematics Teacher"
                startDate:
                  type: string
                  format: date
                  example: "2020-01-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-12-31"
                description:
                  type: string
                  example: "Taught mathematics to high school students"
      responses:
        "200":
          description: Employment record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update employment record
      description: Update an existing employment record
      security:
        - BearerAuth: []
      parameters:
        - name: employmentId
          in: path
          required: true
          description: Employment record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                company:
                  type: string
                  example: "ABC School"
                position:
                  type: string
                  example: "Mathematics Teacher"
                startDate:
                  type: string
                  format: date
                  example: "2020-01-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-12-31"
                description:
                  type: string
                  example: "Taught mathematics to high school students"
      responses:
        "200":
          description: Employment record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Employment record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete employment record
      description: Delete an employment record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: employmentId
          in: path
          required: true
          description: Employment record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Employment record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Employment record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/education:
    post:
      tags:
        - Teacher Profiles
      summary: Add education record
      description: Add a new education record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                institution:
                  type: string
                  example: "University of Education"
                degree:
                  type: string
                  example: "Bachelor of Education"
                field:
                  type: string
                  example: "Mathematics Education"
                startDate:
                  type: string
                  format: date
                  example: "2015-09-01"
                endDate:
                  type: string
                  format: date
                  example: "2019-06-30"
                gpa:
                  type: number
                  example: 3.8
      responses:
        "200":
          description: Education record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update education record
      description: Update an existing education record
      security:
        - BearerAuth: []
      parameters:
        - name: educationId
          in: path
          required: true
          description: Education record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                institution:
                  type: string
                  example: "University of Education"
                degree:
                  type: string
                  example: "Bachelor of Education"
                field:
                  type: string
                  example: "Mathematics Education"
                startDate:
                  type: string
                  format: date
                  example: "2015-09-01"
                endDate:
                  type: string
                  format: date
                  example: "2019-06-30"
                gpa:
                  type: number
                  example: 3.8
      responses:
        "200":
          description: Education record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Education record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete education record
      description: Delete an education record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: educationId
          in: path
          required: true
          description: Education record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Education record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Education record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/qualifications:
    post:
      tags:
        - Teacher Profiles
      summary: Add qualification record
      description: Add a new qualification record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Teaching License"
                issuingBody:
                  type: string
                  example: "State Education Board"
                issueDate:
                  type: string
                  format: date
                  example: "2020-01-15"
                expiryDate:
                  type: string
                  format: date
                  example: "2025-01-15"
                description:
                  type: string
                  example: "Professional teaching license for K-12"
      responses:
        "200":
          description: Qualification record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update qualification record
      description: Update an existing qualification record
      security:
        - BearerAuth: []
      parameters:
        - name: qualificationId
          in: path
          required: true
          description: Qualification record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Teaching License"
                issuingBody:
                  type: string
                  example: "State Education Board"
                issueDate:
                  type: string
                  format: date
                  example: "2020-01-15"
                expiryDate:
                  type: string
                  format: date
                  example: "2025-01-15"
                description:
                  type: string
                  example: "Professional teaching license for K-12"
      responses:
        "200":
          description: Qualification record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Qualification record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete qualification record
      description: Delete a qualification record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: qualificationId
          in: path
          required: true
          description: Qualification record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Qualification record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Qualification record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/referees:
    post:
      tags:
        - Teacher Profiles
      summary: Add referee record
      description: Add a new referee record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Dr. Jane Smith"
                position:
                  type: string
                  example: "Principal"
                organization:
                  type: string
                  example: "ABC School"
                email:
                  type: string
                  format: email
                  example: "jane.smith@abcschool.com"
                phone:
                  type: string
                  example: "+1-555-0123"
                relationship:
                  type: string
                  example: "Former Supervisor"
      responses:
        "200":
          description: Referee record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update referee record
      description: Update an existing referee record
      security:
        - BearerAuth: []
      parameters:
        - name: refereeId
          in: path
          required: true
          description: Referee record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Dr. Jane Smith"
                position:
                  type: string
                  example: "Principal"
                organization:
                  type: string
                  example: "ABC School"
                email:
                  type: string
                  format: email
                  example: "jane.smith@abcschool.com"
                phone:
                  type: string
                  example: "+1-555-0123"
                relationship:
                  type: string
                  example: "Former Supervisor"
      responses:
        "200":
          description: Referee record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Referee record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete referee record
      description: Delete a referee record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: refereeId
          in: path
          required: true
          description: Referee record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Referee record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Referee record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/certifications:
    get:
      tags:
        - Teacher Profiles
      summary: List certifications
      description: Get all certifications for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Certifications retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Teacher Profiles
      summary: Add certification
      description: Add a new certification to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Google Certified Educator"
                issuingBody:
                  type: string
                  example: "Google for Education"
                issueDate:
                  type: string
                  format: date
                  example: "2023-06-15"
                expiryDate:
                  type: string
                  format: date
                  example: "2025-06-15"
                description:
                  type: string
                  example: "Level 1 Google Certified Educator"
      responses:
        "200":
          description: Certification added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    patch:
      tags:
        - Teacher Profiles
      summary: Update certification
      description: Update an existing certification
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Certification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Google Certified Educator"
                issuingBody:
                  type: string
                  example: "Google for Education"
                issueDate:
                  type: string
                  format: date
                  example: "2023-06-15"
                expiryDate:
                  type: string
                  format: date
                  example: "2025-06-15"
                description:
                  type: string
                  example: "Level 1 Google Certified Educator"
      responses:
        "200":
          description: Certification updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Certification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete certification
      description: Delete a certification from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Certification ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Certification deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Certification not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/development:
    get:
      tags:
        - Teacher Profiles
      summary: List professional development
      description: Get all professional development records for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Professional development records retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Teacher Profiles
      summary: Add professional development
      description: Add a new professional development record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Advanced Teaching Methods Workshop"
                provider:
                  type: string
                  example: "National Education Association"
                startDate:
                  type: string
                  format: date
                  example: "2023-08-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-08-03"
                hours:
                  type: number
                  example: 24
                description:
                  type: string
                  example: "Workshop on innovative teaching methodologies"
      responses:
        "200":
          description: Professional development record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    patch:
      tags:
        - Teacher Profiles
      summary: Update professional development
      description: Update an existing professional development record
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Professional development record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Advanced Teaching Methods Workshop"
                provider:
                  type: string
                  example: "National Education Association"
                startDate:
                  type: string
                  format: date
                  example: "2023-08-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-08-03"
                hours:
                  type: number
                  example: 24
                description:
                  type: string
                  example: "Workshop on innovative teaching methodologies"
      responses:
        "200":
          description: Professional development record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Professional development record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete professional development
      description: Delete a professional development record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Professional development record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Professional development record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Professional development record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/memberships:
    get:
      tags:
        - Teacher Profiles
      summary: List professional memberships
      description: Get all professional membership records for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Professional membership records retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Teacher Profiles
      summary: Add professional membership
      description: Add a new professional membership record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                organization:
                  type: string
                  example: "National Science Teachers Association"
                membershipType:
                  type: string
                  example: "Professional Member"
                startDate:
                  type: string
                  format: date
                  example: "2022-01-01"
                endDate:
                  type: string
                  format: date
                  example: "2024-12-31"
                description:
                  type: string
                  example: "Professional membership in science education organization"
      responses:
        "200":
          description: Professional membership record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    patch:
      tags:
        - Teacher Profiles
      summary: Update professional membership
      description: Update an existing professional membership record
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Professional membership record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                organization:
                  type: string
                  example: "National Science Teachers Association"
                membershipType:
                  type: string
                  example: "Professional Member"
                startDate:
                  type: string
                  format: date
                  example: "2022-01-01"
                endDate:
                  type: string
                  format: date
                  example: "2024-12-31"
                description:
                  type: string
                  example: "Professional membership in science education organization"
      responses:
        "200":
          description: Professional membership record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Professional membership record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete professional membership
      description: Delete a professional membership record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Professional membership record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Professional membership record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Professional membership record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/dependents:
    get:
      tags:
        - Teacher Profiles
      summary: List dependents
      description: Get all dependent records for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Dependent records retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Teacher Profiles
      summary: Add dependent
      description: Add a new dependent record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "John Smith Jr."
                relationship:
                  type: string
                  example: "Son"
                dateOfBirth:
                  type: string
                  format: date
                  example: "2010-05-15"
                nationality:
                  type: string
                  example: "American"
      responses:
        "200":
          description: Dependent record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update dependent
      description: Update an existing dependent record
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Dependent record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "John Smith Jr."
                relationship:
                  type: string
                  example: "Son"
                dateOfBirth:
                  type: string
                  format: date
                  example: "2010-05-15"
                nationality:
                  type: string
                  example: "American"
      responses:
        "200":
          description: Dependent record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Dependent record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete dependent
      description: Delete a dependent record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Dependent record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Dependent record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Dependent record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /teacher-profiles/me/activities:
    get:
      tags:
        - Teacher Profiles
      summary: List activities
      description: Get all activity records for the current teacher
      security:
        - BearerAuth: []
      responses:
        "200":
          description: Activity records retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    post:
      tags:
        - Teacher Profiles
      summary: Add activity
      description: Add a new activity record to the current teacher's profile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Science Fair Coordinator"
                description:
                  type: string
                  example: "Organized annual school science fair"
                startDate:
                  type: string
                  format: date
                  example: "2023-03-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-03-15"
                hours:
                  type: number
                  example: 40
      responses:
        "200":
          description: Activity record added successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    put:
      tags:
        - Teacher Profiles
      summary: Update activity
      description: Update an existing activity record
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Activity record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "Science Fair Coordinator"
                description:
                  type: string
                  example: "Organized annual school science fair"
                startDate:
                  type: string
                  format: date
                  example: "2023-03-01"
                endDate:
                  type: string
                  format: date
                  example: "2023-03-15"
                hours:
                  type: number
                  example: 40
      responses:
        "200":
          description: Activity record updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Activity record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

    delete:
      tags:
        - Teacher Profiles
      summary: Delete activity
      description: Delete an activity record from the current teacher's profile
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Activity record ID
          schema:
            type: string
            example: "507f1f77bcf86cd799439011"
      responses:
        "200":
          description: Activity record deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Activity record not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
